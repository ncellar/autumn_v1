--------------------------------------------------------------------------------
TODO NOW

    - more common parse state patterns
        - look for more

    - grammar syntax changes
        - tokenizer X =
        - how to set the current tokenizer?
            `tokenizer(X)`
        - how to call a token?
            % token_name
        - TokenRef class
        - how to mark an alternative as a token
            %= token_name
            `def_token(X)`
        - how to extend syntax with custom functions
            `function(x)[<string>](<expr>)`
            pexp X = <java method ref>
        - no capture operator
            `nocapture(X)`
        - whitespace operator
            `whitespace`
        - dumb operator
            `fast(X)`
        - remove ^= and %= operators
        - how to extend toplevel syntax
        - syntax X = <java operator> ;

    - tokenizers
        - token PE linked to a tokenizer + type
        - memoization window around position
        - error handling: an error over a token can become "unexpected X"
        - advantage: handles reserved identifiers

    - generators for state/input/etc boilerplate

TODO NOTES

    - state.uncommit + state.discard == state.restore
    - extensibility on two axis: new combinators + custom state

    - parsec choice combinator doesn't backtrack unless your use try
        - is explicit backtracking control a good idea? (use <|>)
        - related to cut (although simpler implem)

    - look at parsec etc for error handling
        - probably should have a Error(msg) parsing expression that fails with a message
        - interplay with cutting/limited backtracking? to commit to certain alternatives

TODO DEBUGGER

    - rework package
        - positioning in next and error locator
            - invert locate
                - check locators (done: after, before) |<-
        - integrate own capture info
        - register state tracking custom state
        - why do I have a distinction between ExecutionLocation and spine?

    - bookmarks (shared, synchronized) and history (forked)

    - consider later:
        - make location info class
        - document the "non-inspection" behaviour of beforeLocator

TODO GUMPTION

    - use Array instead of [] for first and children in PE
    - insert $ in Java8 grammar (rule-level only) (-> 544)

TODO FURTHER SMALL

    - allow options in grammar files, namely for root and whitespace spec
      (to be retrieved from GrammarCompiler)

    - well formedness check (ford: WF -- can't loop without consuming)

    - scoped memoization
        - MemoScope
        - ScopedMemo

    - repeating locators (which can locate multiple locations if invoked repeatedly)

    - better string printing for short expressions

TODO FURTHER BIG

    - better support for layering with smart tree-building that automatically rewrites trees
      (see D5)

    - mini type system for captures? automatic AST classes generation?

    - think about building in validation rules

    - grammar composition & parameterization

TODO MUCH LATER

    - make dumb expression faster via a backtracking DPDA

    - think about how a parser could be retooled to parse html
      (which is lax in syntax) -> need to define bounding boxes

    - semi-parsing

    - performance metrics to guide optimization
        + automatic memoization JIT'ing?

--------------------------------------------------------------------------------