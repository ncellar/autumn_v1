package com.norswap.autumn.parsing.capture.decorations;

import com.norswap.autumn.parsing.capture.Decoration;
import com.norswap.autumn.parsing.capture.ParseTreeTransient;
import java.util.HashSet;

public final class TagDecoration implements Decoration
{
    ////////////////////////////////////////////////////////////////////////////////////////////////

    public final String tag;

    ////////////////////////////////////////////////////////////////////////////////////////////////

    public TagDecoration(String tag)
    {
        this.tag = tag;
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////

    @Override
    public void decorate(ParseTreeTransient tree)
    {
        if (tree.tags == null) tree.tags = new HashSet<>();
        tree.tags.add(tag);
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////

    @Override
    public String toString()
    {
        return "tag(" + tag + ")";
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////
}
